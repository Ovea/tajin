<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <script type="text/javascript" src="../../lib/jquery-1.8.3.js"></script>

    <script type="text/javascript" src="../../../main/js/tajin/tajin.core.js"></script>
    <script type="text/javascript" src="../../../main/js/tajin/tajin.util.js"></script>
    <script type="text/javascript" src="../../../main/js/tajin/tajin.i18n.js"></script>

    <script type="text/javascript">
        tajin.init({
            debug: false,
            onready: function () {
                console.info('onready: ' + tajin);
                tajin.i18n.load('app', 'fr_CA', function (bundle) {
                    console.info('1: ' + bundle);
                    console.info('1: msg3', bundle.value('msg3'));
                    $(function () {
                        bundle.localize(document);
                    });
                });
                tajin.i18n.load('app', 'fr', function (bundle) {
                    console.info('2: ' + bundle);
                });
                tajin.i18n.load('app', 'en', function (bundle) {
                    console.info('3: ' + bundle);
                });
                tajin.i18n.load('app', 'en_US', function (bundle) {
                    console.info('4: ' + bundle);
                    console.info('4: inner.msg', bundle.value('inner.msg'));
                });
                tajin.i18n.load('app2', 'fr', function (bundle) {
                    console.info('5: ' + bundle);
                });
                tajin.i18n.load('app2', 'fr_CA', function (bundle) {
                    console.info('6: ' + bundle);
                });
                tajin.i18n.load('app3', 'fr_CA', function (bundle) {
                    console.info('7: ' + bundle);
                    console.info('7: msg1', bundle.value('msg1'));
                });
            },
            i18n: {
                // will be generated by tajin
                bundles: {
                    app: {
                        location: 'bundles',
                        variants: ["fr", "fr_CA", 'en_US'],
                        preload: ['fr_CA', 'en', 'fr', 'en_US']
                    },
                    app2: {
                        location: 'bundles',
                        variants: ["fr_CA"]
                    },
                    app3: {
                        location: 'bundles',
                        variants: ["fr"]
                    }
                },

                // optional user config
                debug: false
                // optional - default one works in most cases
                /*onlocalize:function (bundle, locale, elem, key, value) {
                 if (value === undefined) {
                 value = '[' + key + ']';
                 }
                 console.info('onlocalize', bundle, locale, key, value);
                 var type = elem.get(0).tagName.toUpperCase();
                 if (type === 'INPUT') {
                 if (elem.attr('placeholder') && value) {
                 elem.attr('placeholder', value);
                 } else {
                 elem.val(value);
                 }
                 }
                 else {
                 elem.html(value);
                 }
                 }*/
            }
        });
    </script>

</head>
<body>
<span rel="localize[msg3]"></span>
<a href="localize[link]">lien</a>

<div custom-attr="localize[link]">tag</div>
</body>
</html>
